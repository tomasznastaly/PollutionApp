{"version":3,"sources":["layouts/Header.js","components/City.js","layouts/Cities.js","layouts/App.js","index.js"],"names":["Header","state","text","handleChange","e","_this","setState","target","value","props","handleInputHeader","react_default","a","createElement","className","htmlFor","type","list","this","onChange","id","Component","City","description","_this2","city","name","fetch","then","response","json","catch","error","console","log","data","pageids","query","pages","extract","_this$props","concat","data-toggle","data-target","aria-expanded","aria-controls","aria-labelledby","data-parent","Cities","cities","country","results","map","filter","v","i","indexOf","slice","CitiesList","Object","toConsumableArray","index","components_City","key","App","countryName","toLowerCase","layouts_Header","layouts_Cities","ReactDOM","render","layouts_App","document","getElementById"],"mappings":"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","file":"static/js/main.601d7b98.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport '../styles/Header.css';\r\n\r\n\r\nclass Header extends Component {\r\n    state = {\r\n        text:''\r\n    }\r\n    \r\n    handleChange = e => {\r\n        this.setState({\r\n            text: e.target.value\r\n        })\r\n        this.props.handleInputHeader(e.target.value);\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"header\">\r\n                <label htmlFor=\"text\">Country: \r\n                    <input type=\"text\" list=\"countries\" value={this.state.text} onChange = {this.handleChange}/>\r\n                    <datalist id=\"countries\">\r\n                        <option value=\"Poland\"/>\r\n                        <option value=\"Germany\"/>\r\n                        <option value=\"Spain\"/>\r\n                        <option value=\"France\"/>\r\n                    </datalist>\r\n                </label>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Header;\r\n","import React, { Component } from 'react';\r\nimport '../styles/City.css';\r\n\r\nclass City extends Component {\r\n    state = {\r\n        description : ''\r\n    }\r\n    \r\n    componentDidMount(){\r\n        const API = \"https://en.wikipedia.org/w/api.php?format=json&action=query&prop=extracts&exintro&explaintext&redirects=1&indexpageids&titles=\";\r\n        const city = this.props.name;\r\n        \r\n        fetch(API + city)\r\n            .then(response => response.json())\r\n            .catch(error => console.log('Error:', error))\r\n            .then(data => {\r\n                const pageids = data.query.pageids;\r\n                const pages = data.query.pages;\r\n                return this.setState({description: pages[pageids].extract })\r\n            })\r\n            \r\n            \r\n    }\r\n\r\n    render() {\r\n        const {name, id} = this.props;\r\n        return (\r\n            <div className=\"card\">\r\n                <div className=\"card-header\" id={`heading${id}`}>\r\n                <h5 className=\"mb-0\">\r\n                    <button className=\"btn btn-link collapsed\" data-toggle=\"collapse\" data-target={`#collapse${id}`} aria-expanded=\"false\" aria-controls={`collapse${id}`}>\r\n                        {name}\r\n                    </button>\r\n                </h5>\r\n                </div>\r\n\r\n                <div id={`collapse${id}`} className=\"collapse\" aria-labelledby={`heading${id}`} data-parent=\"#accordion\">\r\n                <div className=\"card-body\">\r\n                    {this.state.description ? this.state.description : \"No Information\" }\r\n                </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default City;\r\n","import React, { Component } from 'react';\r\nimport City from '../components/City';\r\n\r\nclass Cities extends Component {\r\n    state = {\r\n        cities: []\r\n    }\r\n    \r\n    componentDidMount(){\r\n        const API = \"https://api.openaq.org/v1/latest?parameter=pm25&order_by=measurements[0].value&sort=desc&country=\";\r\n        const country = this.props.country;\r\n        fetch(API + country)\r\n            .then(response => response.json())\r\n            .catch(error => console.log('Error:', error))\r\n            .then(data => {\r\n                let cities = data.results.map(city => city.city);\r\n                cities = cities.filter((v,i) => cities.indexOf(v) === i)\r\n                cities = cities.slice(0, 10);\r\n                return this.setState({cities})\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const CitiesList = [...this.state.cities].map((city, index) => <City name={city} key={index} id={index}/>)\r\n        return (\r\n            <div id=\"accordion\">\r\n               {CitiesList} \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Cities;\r\n","import '../styles/App.css';\nimport React, { Component } from 'react';\nimport Header from './Header';\nimport Cities from './Cities';\nimport '../styles/Media.css';\n\nclass App extends Component {\n  state = {\n    country : ''\n  }\n\n  handleInputHeader = (country)=>{\n    const countryName = country.toLowerCase();\n    if(countryName === \"poland\") this.setState({country: \"PL\"})\n    else if(countryName === \"germany\") this.setState({country: \"DE\"})\n    else if(countryName === \"spain\") this.setState({country: \"ES\"})\n    else if(countryName === \"france\") this.setState({country: \"FR\"})\n    else this.setState({country: ''})\n  }\n  render() {\n    return (\n      <div>\n        <Header handleInputHeader = {this.handleInputHeader}/>\n        {this.state.country && <Cities country = {this.state.country}/>}\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './layouts/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}